#!/usr/bin/python
import sys,string,collections,operator,itertools

# returns true if the assignment was possible
# false if the assignment is impossible
def assign(key,code_word,decode_word):
    for i in xrange(len(code_word)):
        letter = code_word[i]
        if("?" == key[letter]):
            key[letter] = decode_word[i]
            continue
        if(decode_word[i] == key[letter]):
            continue
        if(decode_word == "midnight"):
            print letter,"already assigned to", key[letter]
        return False
    return True

def reset_key(key,code_words):
    key[" "] = " "
    for i in list(set("".join(code_words))):
        key[i] = "?"

def get_best_keys(code_words,by_length_by_frequency,word_indexes):
    key = dict()
    reset_key(key,code_words)
    try_assignment(code_words,by_length_by_frequency,word_indexes,key,0)

def try_assignment(code_words,by_length_by_frequency,word_indexes,ikey,depth):
    key_in = ikey
    word_indexes[depth] = 0
    while(word_indexes[depth] < len(by_length_by_frequency[depth])):
        guess = by_length_by_frequency[depth][word_indexes[depth]]
        if(assign(ikey,code_words[depth],guess)):
            current_best = len(filter(lambda x: x >= 0, best_assignments[-1]))
            if(current_best == depth + 1):
                best_assignments.append(list(word_indexes))
            elif(depth + 1 > current_best):
                del best_assignments[:]
                best_assignments.append(list(word_indexes))
            if(depth + 1 < len(word_indexes)):
                try_assignment(code_words,by_length_by_frequency,word_indexes,ikey,depth+1)
        reset_key(ikey,code_words)
        word_indexes[depth] += 1
        word_indexes[depth+1:] = [ -1 for i in word_indexes[depth+1:]]
        for i in xrange(depth):
            guess = by_length_by_frequency[i][word_indexes[i]]
            assign(ikey,code_words[i],guess)

def get_code_words(int_code_words):
    code_words = list()
    for i in int_code_words:
        word = ""
        for j in xrange(0,len(i),2):
            word += string.ascii_uppercase[int(i[j:j+2])]
        code_words.append(word)
    return code_words

message = "012222 1114142503 0313012513 03141418192102 0113 2419182119021713 06131715070119"
best_assignments = list()
best_assignments.append(list())
int_code_words = message.split()
code_words = get_code_words(int_code_words)

# sort code_words by length
code_words.sort(lambda x,y: cmp(len(x), len(y)))

# find the possible lengths of words in the encryped message
lengths = set(map(len,code_words))

## make the wordlist by length
dictionary = list()
while(len(dictionary) <= max(lengths)):
    dictionary.append(collections.Counter())

# I copied the wiki page for the bittorrent protocol and removed a few super weird words
# actually I also added two words, midnight and kthxbai which as a side note is not a word
bittorrent_wiki_words = "a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a ability ability ability ability able able about about about about about about abuse abuse accepted access access access accidental according account achievable achieve acquire acting acting action active active active active active active acts acts ad added added added addition addition addition addition additional additional additionally address addresses addresses adds administrative adopted adopted adopted adopters adoption adoption advantage afford after after after after after again against against against albums albums alias all all all all all all all all all all all all all all all all all all all all allegations alleged allow allow allow allow allow allow allowing allowing allowing allows allows allows allows allows allows almost alongside already also also also also also also also also also also also also also also also also alternative alternative alternative alternative alternatively alternatives although although although amazon america american american among among amount amounts an an an an an an an an an an an an an an an an an an an an an an an an an an an an an analogous analysis anatomic and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and and announce announced anonymity anonymity another another another another another another any any any any any any any any any any any any any any any any any any any api api appears applet application application application application application applications approach approach approach approach approach approach approach appropriate approximately april april architecture archive archive archive are are are are are are are are are are are are are are are are are are are are are are are are are are are are are are are are are are are are are area arrival arrival arriving article article article article article as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as as ask associated at at at at at at at at at at at at at at at at attacks attempt attempt attempt audio august august august authentic authentication authenticity authorization authorization authors automatic automatically automatically automatically automatically automating availability availability availability availability available available available available available available available available available available available available available available available available available average average azureus azureus azureus azureus azureus babyshambles back balancing band bands bandwidth bandwidth bandwidth bandwidth bandwidth bandwidth bandwidth bandwidth bandwidth bandwidth bandwidth banned based based based based basic batch bay bay bay bay bay bay's be be be be be be be be be be be be be be be be be be be be be be became because because because become become become becomes becomes becomes been been been been been been been been been begins behaves behavior being being being being being being being believes benefits beta better better between between between between between bigger billion billion billion bitcomet bitcomet bitcomet bitcomet bitcomet bitcomet bitcomet bitcomet bitlet bitspirit bittornado bittornado bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent bittorrent-capable bittorrent's blizzard blizzard block block blog blog bloggers bloggers boinc boinc boinc boinc both both both both box bram bram bram bring broadband broadband broadcast broadcaster broadcasters broadcasters broadcasting broadcasting broadcatching broadcatching broadcatching broadcatching broadcatching browser browser browsing btdigg btdigg btjunkie btjunkie builds built built built built-in bundling burnbit but but but but but but but but by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by by byte byte cable cablelabs cachelogic called called called called called called called called called called called called can can can can can can can can can can can can can can can can can can can can can can can can can can can can can can canada's cannot capabilities capabilities capable capable capacities capacity case categories cause caused cbc ccp central centralize centralized certain chance changes changing cheap cheap check checks chooses chose chosen chosen chris chunks citizens claimed claims classic classic classic client client client client client client client client client client client client client client client client client client client client client client client client client client client client clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients clients client-server client-server client-server client-tracker closed closing code cohen cohen cohen cohen collection collection collectively co-located column combined combined combineddubious combines comcast comcast comcast comcast comcast's comes co-mingles comments comments common common common commonplace commons communication community comparatively compared compared comparison compatibility compatible complete complete complete complete completely computer computer computer computer computer computers computing computing computing concept concept connect connect connect connected connecting connection connection connection connection connections connections connectivity connects connects connects consequences: consists contact contacts contain contain contained contained contained containing containing containing contains contains content content content content content content content content content content content content content content content content content content content content content content content content content content content content contents contents continue contrasts controversial controversy convention conventional conventional cooperate coordinates copy copy copy copy copyright copyright copyright copyright copyright copyright copyrighted copyrighted copyrighted copyrights cornell corporation correct cost cost cost: costs costs costs could could could could could could counter counter court create create create created created created created creates creates creates creates creating creating creating creative criteria criteria criteria cross-torrent crowds crowds cryptographic cryptographic cubit current current current currently currently currently currently data data data data data data data data data data data data data data data data data data data data data data data data database database datacenter date days deal dealing debate december december decentralized decentralized decentralized decentralized decentralized decentralized decentralized decentralized decrease dedicated delivery deluge deluge deluge demands demands democracy demonoid demonstrated demos dependence dependent: depending depends depends describe description description descriptor descriptor descriptor descriptor designed designed designed desired desires destination details detect detect detected determine determine determine determined determines developed developed developers developing development development development devices devices dgm dht dht dht dht dht dht dht dht dht dht dht dht dht dht diablo differences differences different different different different differs difficult difficult direct directly directly disabled disabled discontinued discouraging discover discovering discovery discovery discrepancies discuss discuss discuss discussion disguise displayed distinct distribute distribute distribute distribute distribute distribute distribute distribute distribute distribute distribute distribute distribute distribute distribute distributed distributed distributed distributed distributed distributed distributed distributed distributed distributed distributed distributed distributes distributes distributing distributing distributing distributing distributing distributing distributing distributing distribution distribution distribution distribution distribution distribution distribution distribution distribution distribution distributor distributor's divided do do do do do documentaries does does doherty done don't down down down down download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download download downloadable downloaded downloaded downloaded downloaded downloader downloaders downloading downloading downloading downloading downloading downloading downloading downloading downloading downloading downloading downloads downloads downloads downloads downloads downloads downloads downloads downloads downloads downloads downloads dozen draft dramatic dramatically drm dubious due due due dutch dynamic each each each each each each each each each each each early easy education education effective effectiveness effects efficiency efficiency efficiently efforts efforts eg eg eg elsewhere email emerged enable enable enabled enables enclosure encourage encourages encrypt encrypted encryption encryption encryption encryption encryption encryption encryption encryption engine engine engines engines engines engines engines enhanced enhancements enough enough enough ensure ensure ensures ensures ensures entails entertainment entire entire entirely entitled entriescitation envisional episodes equates equipped ernest error-free especially especially especially established estimate estimated estimated estimates etc etc etc ethics eve even even even even even eventual eventually every every exact exact exact examined example example example example example example example examples examples except exchange exchange exchange exchange exchange exchange exchange exchange exchange exchange exchange excluding executable exeem existing existing expensive experimented experiments explained explained expose expose extension extensively external external extremely eztorrent facebook facebook facebook facebook facilities facility fail fails fair fastest feature feature feature feature feature feature feature feature features features features february february feed feed feed feed feed feed feeds feeds feeds feeds feeds few figure file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file file filename files files files files files files files files files files files files files files files files files files files files files files files files files files files files files files files files files files files filling film film find find find find find find finished firmware first first first first first first first first first first first firstcitation five fixed flag flag flag flag flag flag flag flash flash flood florida following follow-up for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for for form form format formed formerly forty found found found found found found four free free free free free-to-share frequent frequently frequently from from from from from from from from from from from from from from from from from from from from from from from from from from from from from from from frostwire ftp ftp full full full function functionality functionality functionality functions fundamental further further further further game games games games gather general general general general generally generally generates geographical get getright gillmor give given given given given goals good good gossip government government government great greater greater greater greatly group group groups growing had had haddead halite halted halting happen hard harder hardware hardware hardware has has has has has has has has has has has has has has hash hash hash hash hash hash hash hashing have have have have have have have have have have have have have have have have have have have have have have have have have have have have having header health help help help helping helps high high high high higher higher high-profile hoffman hoffman holders holders holders hollywood home home home hopes host host host host host hosted hosted hosted hosted hosted hosted hosted hosting hosting hosts how however however however however however http http http http http http http http http: huge hulu hundreds hyperlink idea idea identical identically identity if if if if if if if if if if if ignored image imageshack immediately immediately impact impact implement implement implementation implementation implementations implementations implementations implementations implementations implemented implemented implemented implemented implemented implemented implements improve improved improving improving in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in in inc inc inc inc inc inc inc inch include include include includes including including inclusion incompatible incompatible incompatible incorporate incorporate increase increase increases increases increasing independent index index indexes indexing indexing indexing indexing indexing indicated indicated indicated indices individuals industrial industry inexact info info info info info-hash info-hash info-hash information information information infringement infringements initial initial initial initial initial initiate initiative injecting insecure instance instant instant instant instant instead instead instructed integrate integrity integrity intention intentionally interest interface interface interfering internet internet internet internet internet internet internet internet internet internet internet-based internetdated into into into into introduced introducing intuition ip ip is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is is isohunt isohunt isp isp isp isps isps isp's issues issues issues it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it it items its its its its its its its its its its its its its its itself itself january january january java john john join join join joined juice july jurisdictions kademlia kaminsky katchtv kb kb kb keep keeping keyword keyword keyword know known known known known known known kthxbai ktorrent ktorrent ktorrent languages large large large large large large large large large large largely larger larger larger later later later later later latest launched launched launcher lawsuits layers lead leading least led leechers leeching legal legal legal legal legal legality legitimate length length lengths less less letters libertines license licensed licensed licenses like like like like like like likelihood limit limited limiting limits line link linking linking links links list list list list list list list list lists lists little live live load load loader loads local location locking lokitorrent long longer long-term loss lower lower lower machine machine machines made made made main main main main mainline mainline mainline mainline mainline mainline mainline maintain maintain maintain maintained maintaining maintains major major majority make make make make make make make maker makes makes makes makes malicious malware malware malware malware malware malware managed managed manner many many many many many many many many many many many many march masquerading match matching material material material material material material may may may may may may may may may may may may may may may may mb mb mb means means means measure measurements mechanism mechanism mechanisms mechanisms mechanisms media meeting merely merger message messaging messaging metadata metadata metadata metafiles metafiles metasearch method method method methods methods midnight might miller million million million mininova mininova mininova minister miro miro mirror mldonkey mmorpg mobile modification modifications moment money monitoring monitors monitors month month monthly moopolice more more more more more more more more more more most most most most most movedigital movie movies moving mp mpaa mse mse mse much much much much much much multiple multiple multiple multiple multiple multiple multitracker multitracker music music music must must mutually myfiletorrent nails name name named names nas nat nat nature nature nbc near necessarily need needed needed needed needed needs needs neither net netenhancer netflix network network network network network network network network network network network network network network network network network network networking networks networks networks neutrality new new new new new new new new new new newcomers newly newly next next next nine no no node node node node nodes nodes nodes nodes nodes non-contiguous non-members non-sequentially non-technical north north north norwegian not not not not not not not not not not not not not not not noted november now now now nrk nrk nrk number number number number number number number number number number number number number number number numbers numerous obtain obtain obtain obtained occurs of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of of offer offer offered offers official official official official official official often often often oink's older on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on on once once one one one one one one one one one one one one ones oneswarm online online only only only only only only onward open open open open open openwrt opera operate operating operation operation opportunity optimistic optimize optional options or or or or or or or or or or or or or or or or or or or or or or or or order order order ordered organization organization organizations original original original original original other other other other other other other other other other other other other other other other others others others out out outlined outside over over over over over over over over overall overall overhead-traffic overload oversi oversi's own own own own owner owns packets page palace pando paper paper parse parsing participants participating particular particular particular particular particularly partners partners party pass patches payload pe pe pe peer peer peer peer peer peer peer peer peer peer peer peer peer peer peer peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peers peer-to-peer peer-to-peer peer-to-peer peer-to-peer peer-to-peer penguintv people pep per per periodically permission permits personal personal phones php phrase piece piece piece piece piece piece piece piece piece piece piece piece piece pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pieces pink pirate pirate pirate pirate pirate pirate pirillo placed placed planning platforms playback player plugin plugin plugin podcasters podcasting point police policies policies policy poorly pop popular popular popular popular popular popular popular popular popularly pornographic portion portion ports positive possible possible possible possible possibly possibly potentially power practice practice prefer preferred preparing present prevent prevent prevented preventing prevents previous previously previously primary prime privacy-preserving private private private private problem problems process process processing products program program programmer programming programs programs progressive project projected projects projects promote promotion proportion proposed proposed proposed proposing proprietary proprietary protected protection protection protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol protocol-agnostic protocols protocols protocols provide provide provide provide provide provided provided provided provided provider providers provides provides providing proxying public public public publicbt publicly published published published published publisher publisher publishers publishers publishers publishing publishing publishing pucha purchases purpose pursued put quarter query querying questions quickly quickly radio raided random random random randomly rapidly rarest-first rates rather rather rather ratio raymond raymond reach reach readily readily reading really rearranged reason receive receive receive receive received receives receives receives receives recently recently recipients recognize recommend recommend recorded records records reduce reduce reduce reduce reduce reduce reduce reduced reduces reduces reducing reduction redundancy redundancy references refers refers regardless regardless registered registered registered regular regular regular relative release release released released released released released released releases relevance reliably relieving rely remains removed rendering renewed replace replies report reported reporting reports represents request request requested requesting requests required requires requires research researchers researchers reserves reset resistance resource resource respect responses responsible rest-based restrict restrict result result result results resumed retrieve rise rise risk rock roughly roughly route routers routers routers routers routers royalties rss rss rss rss rss rss rss rss rst rtorrent rtorrent rtorrent run run running running running running runs rush s same same same same sample saying scalable scale scales scheme schemes scientific scientific script search search search search search search search search search search search search search search search searched searching season second section section section section see see see seed seed seed seed seed seed seed seed seed seed seeded seeder seeder seeder seeders seeders seeders seeders-leechers seeding seeding seeding seeding seeding seeding seeds seeds seeds seeds seek segments selected selection self-extracting send send send send send sending sensitive sent september september sequential server server server server server server server servercitation server-oriented servers servers servers servers servers servers server-side serves service service service service service service services serving serving session sessions set set set sets setups several several several several several several several several sha- sha- shaping share share share share share share share shared shared shared shared shared sharing sharing sharing sharing sharing sharing sharing sharing shift show show shown shows shut side significant significantly similar similar similar similar similarity similarly simple simple simple simple simplified simplify simplifying simply simulation simultaneously since since since since single single single single single single single single site site site site site sites sites sites sites sites sites sites situation situations size size size sized sizes sizes slightly slow small small small small small small so so so so so so so software software software software software software software software software software software software solutions solutions some some some some some some some some some somewhat somewhat soon sophisticated sort sorted source source source source source source source source source sources sources space space special specialized specific specific specifically specification specification specification specification specifications specified specified specified specifies speed speed speed speed speed speeds speeds spent spikes spotting spread spreading standard standard standards starcraft start start starting starts state states steve still still still still stop storage storage storage store strategy stream streaming streaming streaming streaming streaming strict strings stripped stub studies studios study study sub subject suboptimal subscribe subscribers success successful such such such such such such such such such such such such such such suddenly sued sued sufficient suffix suggest suggested suggested summer support support support support support support support support support supported supported supporting supporting supports supports supports supports suprnovaorg surfaced swarm swarm swarm swarm swarm swarm swarm swarm swarm swarm swarming swarms sweden swedish swedish syndication system system system system system system system system system system system system systems systems systems table table table tables tables take take take take taken takes takes task task taste tat tax tcp tcp tcp team technique technique technique technique technologies technologies technology telling tells ten termed terminate test testing text than than than than than than than than than that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that that the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the the their their their their their their their their their their their their their their their their their them them them them them them them them them themselves themselves themselves then then then theoretically theory there there there therefore therefore these these these these these these these these these these these theshadw they they they they they they they they they they they they they they they they third this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this this those those those those those those those those those though three throttle throttle throttle throttling throttling through through through through through through through through through through throughout throughout throughout thus thus thus thwart tier tier tier tiers time time time time time time time times tit tivo to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to to together tolerate too tool top top top torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrent torrentflux torrent-hosting torrenthut torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrents torrentspy torrentz torrentz total total total total trace track track tracked tracked tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker tracker trackerless trackerless trackers trackers trackers trackers trackers trackers trackers trackers trackers trackers trackers trackers trackers trackers trackers trackers tracking tracking tracks trade trading traditional traffic traffic traffic traffic traffic traffic traffic traffic traffic traffic traffic traffic traffic traffic traffic trafficdated transfer transfer transfer transfer transferring transferring transferring transfers transfers transfers transient translation transmission transmission transmission transmission transmission transmitted transmitting treats tribler tribler tribler tried trolls truce trusted tunnel turn turn tv twitter twitter two two two two two type types typical typical typically typically typically typically typically typically uk uk uk ultimately unable unavailable unavailable unavailable unchoking uncorrupted under under unidentifiable unimplemented unique united universal universities university university unlimited unofficial unofficial unofficially unpopular unpopular unpopular unpredictable unrelated up up up up updated updates updates upload upload upload upload upload uploaded uploader uploading uploading uploads url url us usage use use use use use use use use use use use use use use used used used used used used used used used used used used used used used used used useful useful useful user user user user user user user user user user users users users users users users users users users users users users users users users users users users users users users users user's usersdubious uses uses uses uses uses uses uses using using using using using using using using using using using using using using using using usually usually utilized value value value value variety variety various various verify verify version version version version version version version version versions versions very very very very via via via via via via via via via via via via video video video videos videos violate virtual visitors vodo vpro vulnerable vulnerable vulnerable vuze vuze vuze vuze vuze vuze vuze wait waiting want want want wants warcraft was was was was was was was was was was was was was was was was was was was way way ways ways: web web web web web web web web web web web web web web web web web web web web web webseeding webserver web-service website website website website website websites websites websites websites websites websites websites well well well well were were were what when when when when when when when when whenever where whereby whether whether which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which which while while while while while while while who who who who whom whose will will will will will will will will will wish wishing with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with with within within within without without without without without without without word work working working works world would would would would would  year yet yet youtube youtube zero-day zero-day"

# make the word set and dictionaries by length
words = bittorrent_wiki_words.upper().split()
words_set = set()
for word in words:
    word = word.rstrip()
    if(0 == len(word)):
        continue
    if(len(word) not in lengths):
        continue
    dictionary[len(word)][word] += 1
    words_set.add(word)

by_length_by_frequency = list()
for i in code_words: # loop over the encrypted words
    by_length_by_frequency.append(list()) # make a list of words sorted by likelihood for that word
    for j in dictionary[len(i)].most_common(): # loop over most common words of that length
        by_length_by_frequency[-1].append(j[0]) # and append the key (not the frequency)

# guess is -1 for all keys
word_translations = [-1 for i in code_words]

# get the best keys, this is all assignments of maximal length
get_best_keys(code_words,by_length_by_frequency,word_translations)

# get the product of the occurrences of all the words, this is the combined frequency
for i in xrange(len(best_assignments)):
    value = 1
    for j in xrange(len(best_assignments[i])):
        if(best_assignments[i][j] < 0):
            break
        value *= dictionary[len(code_words[j])].most_common()[best_assignments[i][j]][1]
    best_assignments[i].append(value)

# sort by product of occurrences
best_assignments = sorted(best_assignments,key=operator.itemgetter(-1),reverse=True)
final_assignment = best_assignments[0]
final_assignment.pop() # remove the frequency

ikey = dict()
reset_key(ikey,code_words)
for i in xrange(len(final_assignment)):
    if(final_assignment[i] < 0):
        break
    guess = by_length_by_frequency[i][final_assignment[i]]
    assign(ikey,code_words[i],guess)

code_words = get_code_words(int_code_words)
code_message = " ".join(code_words)

# print the answer
print "".join(map(lambda x: ikey[x],list(code_message)))